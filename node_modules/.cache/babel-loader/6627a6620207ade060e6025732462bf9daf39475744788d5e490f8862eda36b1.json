{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MARCIOJOSEDOSSANTOS\\\\Desktop\\\\biblioteca\\\\frontend\\\\src\\\\components\\\\BookCard.js\";\n// src/components/BookCard.js\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./bookcard.css\";\nimport noCover from \"../assets/no-cover.png\";\nimport LoanButton from \"./LoanButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookCard({\n  book,\n  refreshBooks = null\n}) {\n  // Define URL da capa do livro\n  const coverUrl = book.cover ? book.cover.startsWith(\"http\") ? book.cover : `http://127.0.0.1:8000${book.cover}` : noCover;\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: `book-card ${!book.available ? \"unavailable\" : \"\"}`,\n    role: \"region\",\n    \"aria-label\": `Livro: ${book.title}. Autor: ${book.author || \"Não informado\"}. ${book.publication_year ? `Ano: ${book.publication_year}.` : \"\"} ${book.genre ? `Gênero: ${book.genre}.` : \"\"} ${book.available ? \"Disponível\" : \"Emprestado\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: coverUrl,\n      alt: book.altText || `Capa do livro \"${book.title}\"`,\n      className: \"book-cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Autor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), \" \", book.author || \"Não informado\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Ano:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), \" \", book.publication_year || \"Não informado\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), book.genre && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"G\\xEAnero:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), \" \", book.genre]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), \" \", book.available ? \"Disponível\" : \"Emprestado\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), book.loans && book.loans.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Empr\\xE9stimos ativos:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), \" \", book.loans.map(loan => loan.user_username || loan.username).filter(Boolean).join(\", \")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), book.available && refreshBooks && /*#__PURE__*/_jsxDEV(LoanButton, {\n        bookId: book.id,\n        refreshBooks: refreshBooks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n_c = BookCard;\nBookCard.propTypes = {\n  book: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    title: PropTypes.string.isRequired,\n    author: PropTypes.string,\n    publication_year: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    genre: PropTypes.string,\n    cover: PropTypes.string,\n    altText: PropTypes.string,\n    available: PropTypes.bool,\n    loans: PropTypes.arrayOf(PropTypes.shape({\n      username: PropTypes.string,\n      user_username: PropTypes.string\n    })),\n    speak: PropTypes.func // função de leitura em voz alta\n  }).isRequired,\n  refreshBooks: PropTypes.func\n};\nvar _c;\n$RefreshReg$(_c, \"BookCard\");","map":{"version":3,"names":["React","PropTypes","noCover","LoanButton","jsxDEV","_jsxDEV","BookCard","book","refreshBooks","coverUrl","cover","startsWith","className","available","role","title","author","publication_year","genre","children","src","alt","altText","fileName","_jsxFileName","lineNumber","columnNumber","loans","length","map","loan","user_username","username","filter","Boolean","join","bookId","id","_c","propTypes","shape","oneOfType","number","string","isRequired","bool","arrayOf","speak","func","$RefreshReg$"],"sources":["C:/Users/MARCIOJOSEDOSSANTOS/Desktop/biblioteca/frontend/src/components/BookCard.js"],"sourcesContent":["// src/components/BookCard.js\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./bookcard.css\";\r\nimport noCover from \"../assets/no-cover.png\";\r\nimport LoanButton from \"./LoanButton\";\r\n\r\nexport default function BookCard({ book, refreshBooks = null }) {\r\n  // Define URL da capa do livro\r\n  const coverUrl = book.cover\r\n    ? book.cover.startsWith(\"http\")\r\n      ? book.cover\r\n      : `http://127.0.0.1:8000${book.cover}`\r\n    : noCover;\r\n\r\n  return (\r\n    <article\r\n      className={`book-card ${!book.available ? \"unavailable\" : \"\"}`}\r\n      role=\"region\"\r\n      aria-label={`Livro: ${book.title}. Autor: ${book.author || \"Não informado\"}. ${\r\n        book.publication_year ? `Ano: ${book.publication_year}.` : \"\"\r\n      } ${book.genre ? `Gênero: ${book.genre}.` : \"\"} ${\r\n        book.available ? \"Disponível\" : \"Emprestado\"\r\n      }`}\r\n    >\r\n      <img\r\n        src={coverUrl}\r\n        alt={book.altText || `Capa do livro \"${book.title}\"`}\r\n        className=\"book-cover\"\r\n      />\r\n\r\n      <div className=\"book-info\">\r\n        <h2>{book.title}</h2>\r\n        <p>\r\n          <strong>Autor:</strong> {book.author || \"Não informado\"}\r\n        </p>\r\n        <p>\r\n          <strong>Ano:</strong> {book.publication_year || \"Não informado\"}\r\n        </p>\r\n        {book.genre && (\r\n          <p>\r\n            <strong>Gênero:</strong> {book.genre}\r\n          </p>\r\n        )}\r\n        <p>\r\n          <strong>Status:</strong> {book.available ? \"Disponível\" : \"Emprestado\"}\r\n        </p>\r\n\r\n        {book.loans && book.loans.length > 0 && (\r\n          <p>\r\n            <strong>Empréstimos ativos:</strong>{\" \"}\r\n            {book.loans\r\n              .map((loan) => loan.user_username || loan.username)\r\n              .filter(Boolean)\r\n              .join(\", \")}\r\n          </p>\r\n        )}\r\n\r\n        {/* Botão de empréstimo apenas se livro disponível e refreshBooks presente */}\r\n        {book.available && refreshBooks && (\r\n          <LoanButton bookId={book.id} refreshBooks={refreshBooks} />\r\n        )}\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nBookCard.propTypes = {\r\n  book: PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    author: PropTypes.string,\r\n    publication_year: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    genre: PropTypes.string,\r\n    cover: PropTypes.string,\r\n    altText: PropTypes.string,\r\n    available: PropTypes.bool,\r\n    loans: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        username: PropTypes.string,\r\n        user_username: PropTypes.string,\r\n      })\r\n    ),\r\n    speak: PropTypes.func, // função de leitura em voz alta\r\n  }).isRequired,\r\n  refreshBooks: PropTypes.func,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}