{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MARCIOJOSEDOSSANTOS\\\\Desktop\\\\tentativas\\\\biblioteca\\\\frontend\\\\src\\\\components\\\\LoanForm.js\",\n  _s = $RefreshSig$();\n// src/components/LoanForm.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function LoanForm({\n  isAdmin = false,\n  role,\n  onSave\n}) {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [loans, setLoans] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [selectedBook, setSelectedBook] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({\n    text: \"\",\n    type: \"\"\n  });\n  const [accessDenied, setAccessDenied] = useState(false);\n  const token = localStorage.getItem(\"access_token\");\n  const authHeader = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  // üîπ Verifica acesso (SEM retornar antes dos hooks)\n  useEffect(() => {\n    if (isAdmin && role !== \"admin\" && role !== \"superuser\") {\n      setAccessDenied(true);\n    }\n  }, [isAdmin, role]);\n\n  // üîπ Carrega dados iniciais\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [usersRes, booksRes, loansRes] = await Promise.all([isAdmin ? axios.get(\"http://127.0.0.1:8000/api/users/\", authHeader) : Promise.resolve({\n        data: []\n      }), axios.get(\"http://127.0.0.1:8000/api/books/\", authHeader), axios.get(\"http://127.0.0.1:8000/api/loans/\", authHeader)]);\n      setUsers(Array.isArray(usersRes.data) ? usersRes.data : []);\n      setBooks((Array.isArray(booksRes.data) ? booksRes.data : []).filter(b => b.available));\n      setLoans(Array.isArray(loansRes.data) ? loansRes.data : []);\n    } catch (err) {\n      console.error(\"Erro ao carregar dados:\", err);\n      setMessage({\n        text: \"‚ùå Erro ao carregar dados do servidor.\",\n        type: \"error\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (!accessDenied) {\n      fetchData();\n    }\n  }, [accessDenied]);\n\n  // üîπ Registrar novo empr√©stimo\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isAdmin && !selectedUser || !selectedBook) {\n      setMessage({\n        text: \"‚ö†Ô∏è Selecione usu√°rio e livro.\",\n        type: \"error\"\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      await axios.post(\"http://127.0.0.1:8000/api/loans/\", isAdmin ? {\n        user: selectedUser,\n        book: selectedBook\n      } : {\n        book: selectedBook\n      }, authHeader);\n      setMessage({\n        text: \"‚úÖ Empr√©stimo registrado!\",\n        type: \"success\"\n      });\n      setSelectedUser(\"\");\n      setSelectedBook(\"\");\n      fetchData();\n      onSave === null || onSave === void 0 ? void 0 : onSave();\n    } catch (err) {\n      console.error(\"Erro ao registrar empr√©stimo:\", err);\n      setMessage({\n        text: \"‚ùå Erro ao registrar empr√©stimo.\",\n        type: \"error\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // üîπ Registrar devolu√ß√£o\n  const handleReturn = async loanId => {\n    setLoading(true);\n    try {\n      await axios.patch(`http://127.0.0.1:8000/api/loans/${loanId}/`, {\n        returned: true\n      }, authHeader);\n      setMessage({\n        text: \"‚úÖ Devolu√ß√£o registrada!\",\n        type: \"success\"\n      });\n      fetchData();\n      onSave === null || onSave === void 0 ? void 0 : onSave();\n    } catch (err) {\n      console.error(\"Erro ao registrar devolu√ß√£o:\", err);\n      setMessage({\n        text: \"‚ùå Erro ao registrar devolu√ß√£o.\",\n        type: \"error\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // üîπ Se o acesso foi negado\n  if (accessDenied) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      tabIndex: \"0\",\n      role: \"alert\",\n      children: \"\\u26A0\\uFE0F Acesso negado. Apenas administradores podem gerenciar empr\\xE9stimos.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `loan-form-container ${isAdmin ? \"admin\" : \"user\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      \"aria-label\": \"Formul\\xE1rio de empr\\xE9stimo\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        tabIndex: \"0\",\n        children: isAdmin ? \"üìö Gerenciar Empr√©stimos\" : \"üìö Solicitar Empr√©stimo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), message.text && /*#__PURE__*/_jsxDEV(\"p\", {\n        role: \"status\",\n        tabIndex: \"0\",\n        className: `form-message ${message.type}`,\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"user\",\n          children: \"Usu\\xE1rio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"user\",\n          value: selectedUser,\n          onChange: e => setSelectedUser(e.target.value),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Selecione um usu\\xE1rio --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: u.id,\n            children: [u.username, \" (\", u.email, \")\"]\n          }, u.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"book\",\n        children: \"Livro:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"book\",\n        value: selectedBook,\n        onChange: e => setSelectedBook(e.target.value),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Selecione um livro dispon\\xEDvel --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), books.map(b => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: b.id,\n          children: b.title\n        }, b.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? \"Processando...\" : isAdmin ? \"Registrar Empr√©stimo\" : \"Solicitar Empr√©stimo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"loan-list\",\n      \"aria-label\": \"Empr\\xE9stimos ativos\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        tabIndex: \"0\",\n        children: \"\\uD83D\\uDCC4 Empr\\xE9stimos Ativos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), loans.filter(l => !l.returned).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        tabIndex: \"0\",\n        children: \"Nenhum empr\\xE9stimo ativo.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: loans.filter(l => !l.returned).map(l => {\n          var _l$book, _l$user;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            tabIndex: \"0\",\n            children: [(_l$book = l.book) === null || _l$book === void 0 ? void 0 : _l$book.title, \" \\u2014 \", (_l$user = l.user) === null || _l$user === void 0 ? void 0 : _l$user.username, isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleReturn(l.id),\n              disabled: loading,\n              style: {\n                marginLeft: \"0.5rem\"\n              },\n              children: \"Devolver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 21\n            }, this)]\n          }, l.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s(LoanForm, \"WT1KGLcZLqd0K3ksn5GIqWMPbQE=\");\n_c = LoanForm;\nvar _c;\n$RefreshReg$(_c, \"LoanForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","LoanForm","isAdmin","role","onSave","_s","users","setUsers","books","setBooks","loans","setLoans","selectedUser","setSelectedUser","selectedBook","setSelectedBook","loading","setLoading","message","setMessage","text","type","accessDenied","setAccessDenied","token","localStorage","getItem","authHeader","headers","Authorization","fetchData","usersRes","booksRes","loansRes","Promise","all","get","resolve","data","Array","isArray","filter","b","available","err","console","error","handleSubmit","e","preventDefault","post","user","book","handleReturn","loanId","patch","returned","tabIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","id","value","onChange","target","required","map","u","username","email","title","disabled","l","length","_l$book","_l$user","onClick","style","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/MARCIOJOSEDOSSANTOS/Desktop/tentativas/biblioteca/frontend/src/components/LoanForm.js"],"sourcesContent":[" // src/components/LoanForm.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../App.css\";\r\n\r\nexport default function LoanForm({ isAdmin = false, role, onSave }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [books, setBooks] = useState([]);\r\n  const [loans, setLoans] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(\"\");\r\n  const [selectedBook, setSelectedBook] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ text: \"\", type: \"\" });\r\n  const [accessDenied, setAccessDenied] = useState(false);\r\n\r\n  const token = localStorage.getItem(\"access_token\");\r\n  const authHeader = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n  // üîπ Verifica acesso (SEM retornar antes dos hooks)\r\n  useEffect(() => {\r\n    if (isAdmin && role !== \"admin\" && role !== \"superuser\") {\r\n      setAccessDenied(true);\r\n    }\r\n  }, [isAdmin, role]);\r\n\r\n  // üîπ Carrega dados iniciais\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [usersRes, booksRes, loansRes] = await Promise.all([\r\n        isAdmin\r\n          ? axios.get(\"http://127.0.0.1:8000/api/users/\", authHeader)\r\n          : Promise.resolve({ data: [] }),\r\n        axios.get(\"http://127.0.0.1:8000/api/books/\", authHeader),\r\n        axios.get(\"http://127.0.0.1:8000/api/loans/\", authHeader),\r\n      ]);\r\n\r\n      setUsers(Array.isArray(usersRes.data) ? usersRes.data : []);\r\n      setBooks(\r\n        (Array.isArray(booksRes.data) ? booksRes.data : []).filter(\r\n          (b) => b.available\r\n        )\r\n      );\r\n      setLoans(Array.isArray(loansRes.data) ? loansRes.data : []);\r\n    } catch (err) {\r\n      console.error(\"Erro ao carregar dados:\", err);\r\n      setMessage({\r\n        text: \"‚ùå Erro ao carregar dados do servidor.\",\r\n        type: \"error\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!accessDenied) {\r\n      fetchData();\r\n    }\r\n  }, [accessDenied]);\r\n\r\n  // üîπ Registrar novo empr√©stimo\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if ((isAdmin && !selectedUser) || !selectedBook) {\r\n      setMessage({\r\n        text: \"‚ö†Ô∏è Selecione usu√°rio e livro.\",\r\n        type: \"error\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(\r\n        \"http://127.0.0.1:8000/api/loans/\",\r\n        isAdmin\r\n          ? { user: selectedUser, book: selectedBook }\r\n          : { book: selectedBook },\r\n        authHeader\r\n      );\r\n      setMessage({ text: \"‚úÖ Empr√©stimo registrado!\", type: \"success\" });\r\n      setSelectedUser(\"\");\r\n      setSelectedBook(\"\");\r\n      fetchData();\r\n      onSave?.();\r\n    } catch (err) {\r\n      console.error(\"Erro ao registrar empr√©stimo:\", err);\r\n      setMessage({\r\n        text: \"‚ùå Erro ao registrar empr√©stimo.\",\r\n        type: \"error\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // üîπ Registrar devolu√ß√£o\r\n  const handleReturn = async (loanId) => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.patch(\r\n        `http://127.0.0.1:8000/api/loans/${loanId}/`,\r\n        { returned: true },\r\n        authHeader\r\n      );\r\n      setMessage({ text: \"‚úÖ Devolu√ß√£o registrada!\", type: \"success\" });\r\n      fetchData();\r\n      onSave?.();\r\n    } catch (err) {\r\n      console.error(\"Erro ao registrar devolu√ß√£o:\", err);\r\n      setMessage({\r\n        text: \"‚ùå Erro ao registrar devolu√ß√£o.\",\r\n        type: \"error\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // üîπ Se o acesso foi negado\r\n  if (accessDenied) {\r\n    return (\r\n      <p tabIndex=\"0\" role=\"alert\">\r\n        ‚ö†Ô∏è Acesso negado. Apenas administradores podem gerenciar empr√©stimos.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`loan-form-container ${isAdmin ? \"admin\" : \"user\"}`}>\r\n      <form onSubmit={handleSubmit} aria-label=\"Formul√°rio de empr√©stimo\">\r\n        <h3 tabIndex=\"0\">\r\n          {isAdmin ? \"üìö Gerenciar Empr√©stimos\" : \"üìö Solicitar Empr√©stimo\"}\r\n        </h3>\r\n\r\n        {message.text && (\r\n          <p role=\"status\" tabIndex=\"0\" className={`form-message ${message.type}`}>\r\n            {message.text}\r\n          </p>\r\n        )}\r\n\r\n        {isAdmin && (\r\n          <>\r\n            <label htmlFor=\"user\">Usu√°rio:</label>\r\n            <select\r\n              id=\"user\"\r\n              value={selectedUser}\r\n              onChange={(e) => setSelectedUser(e.target.value)}\r\n              required\r\n            >\r\n              <option value=\"\">-- Selecione um usu√°rio --</option>\r\n              {users.map((u) => (\r\n                <option key={u.id} value={u.id}>\r\n                  {u.username} ({u.email})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </>\r\n        )}\r\n\r\n        <label htmlFor=\"book\">Livro:</label>\r\n        <select\r\n          id=\"book\"\r\n          value={selectedBook}\r\n          onChange={(e) => setSelectedBook(e.target.value)}\r\n          required\r\n        >\r\n          <option value=\"\">-- Selecione um livro dispon√≠vel --</option>\r\n          {books.map((b) => (\r\n            <option key={b.id} value={b.id}>\r\n              {b.title}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading\r\n            ? \"Processando...\"\r\n            : isAdmin\r\n            ? \"Registrar Empr√©stimo\"\r\n            : \"Solicitar Empr√©stimo\"}\r\n        </button>\r\n      </form>\r\n\r\n      <section className=\"loan-list\" aria-label=\"Empr√©stimos ativos\">\r\n        <h3 tabIndex=\"0\">üìÑ Empr√©stimos Ativos</h3>\r\n        {loans.filter((l) => !l.returned).length === 0 ? (\r\n          <p tabIndex=\"0\">Nenhum empr√©stimo ativo.</p>\r\n        ) : (\r\n          <ul>\r\n            {loans\r\n              .filter((l) => !l.returned)\r\n              .map((l) => (\r\n                <li key={l.id} tabIndex=\"0\">\r\n                  {l.book?.title} ‚Äî {l.user?.username}\r\n                  {isAdmin && (\r\n                    <button\r\n                      onClick={() => handleReturn(l.id)}\r\n                      disabled={loading}\r\n                      style={{ marginLeft: \"0.5rem\" }}\r\n                    >\r\n                      Devolver\r\n                    </button>\r\n                  )}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}