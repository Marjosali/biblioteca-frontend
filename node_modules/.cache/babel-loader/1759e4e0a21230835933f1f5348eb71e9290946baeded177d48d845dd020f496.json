{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MARCIOJOSEDOSSANTOS\\\\Desktop\\\\biblioteca\\\\frontend\\\\src\\\\components\\\\BookForm.js\",\n  _s = $RefreshSig$();\n// src/components/BookForm.js\nimport React, { useState } from \"react\";\nimport \"../App.css\"; // estilos globais\nimport { saveBook } from \"../Api\"; // integra√ß√£o com sua API\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookForm({\n  onBookAdded,\n  role\n}) {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // üîπ Somente admins e superusu√°rios podem acessar\n  if (role !== \"admin\" && role !== \"superuser\") {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      tabIndex: \"0\",\n      role: \"alert\",\n      children: \"\\u26A0\\uFE0F Acesso negado. Apenas administradores podem cadastrar livros.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this);\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(\"\");\n    try {\n      const newBook = {\n        title,\n        author,\n        category,\n        description\n      };\n      await saveBook(newBook);\n      setMessage(\"‚úÖ Livro salvo com sucesso!\");\n      setTitle(\"\");\n      setAuthor(\"\");\n      setCategory(\"\");\n      setDescription(\"\");\n      if (onBookAdded) onBookAdded(); // atualiza lista sem recarregar\n    } catch (error) {\n      console.error(\"Erro ao salvar livro:\", error);\n      setMessage(\"‚ùå Erro ao salvar o livro.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"book-form\",\n    onSubmit: handleSubmit,\n    \"aria-label\": \"Formul\\xE1rio de cadastro de livro\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: \"0.75rem\",\n      backgroundColor: \"#fff\",\n      padding: \"1.5rem\",\n      borderRadius: \"10px\",\n      boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\n      maxWidth: \"400px\",\n      margin: \"1rem auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n      disabled: loading,\n      style: {\n        border: \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        tabIndex: \"0\",\n        style: {\n          fontSize: \"1.2rem\",\n          fontWeight: \"bold\",\n          color: \"#004999\",\n          textAlign: \"center\",\n          marginBottom: \"0.75rem\"\n        },\n        children: \"\\uD83D\\uDCDA Cadastro de Livro (Admin)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"T\\xEDtulo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"title\",\n        type: \"text\",\n        placeholder: \"Digite o t\\xEDtulo do livro\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"author\",\n        children: \"Autor:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"author\",\n        type: \"text\",\n        placeholder: \"Digite o nome do autor\",\n        value: author,\n        onChange: e => setAuthor(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"category\",\n        children: \"Categoria:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"category\",\n        type: \"text\",\n        placeholder: \"Digite a categoria\",\n        value: category,\n        onChange: e => setCategory(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Descri\\xE7\\xE3o:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        placeholder: \"Digite uma breve descri\\xE7\\xE3o\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        rows: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          background: loading ? \"#999\" : \"#007bff\",\n          color: \"#fff\",\n          padding: \"0.6rem\",\n          border: \"none\",\n          borderRadius: \"6px\",\n          cursor: loading ? \"not-allowed\" : \"pointer\",\n          transition: \"background 0.3s\"\n        },\n        children: loading ? \"Salvando...\" : \"Salvar Livro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      tabIndex: \"0\",\n      className: `form-message ${message.includes(\"sucesso\") ? \"success\" : \"error\"}`,\n      style: {\n        textAlign: \"center\",\n        fontWeight: \"bold\"\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(BookForm, \"yhLO8UXA69T+M0fGHz6KuNl2yRE=\");\n_c = BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useState","saveBook","jsxDEV","_jsxDEV","BookForm","onBookAdded","role","_s","title","setTitle","author","setAuthor","category","setCategory","description","setDescription","message","setMessage","loading","setLoading","tabIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","newBook","error","console","className","onSubmit","style","display","flexDirection","gap","backgroundColor","padding","borderRadius","boxShadow","maxWidth","margin","disabled","border","fontSize","fontWeight","color","textAlign","marginBottom","htmlFor","id","type","placeholder","value","onChange","target","required","rows","background","cursor","transition","includes","_c","$RefreshReg$"],"sources":["C:/Users/MARCIOJOSEDOSSANTOS/Desktop/biblioteca/frontend/src/components/BookForm.js"],"sourcesContent":["// src/components/BookForm.js\r\nimport React, { useState } from \"react\";\r\nimport \"../App.css\"; // estilos globais\r\nimport { saveBook } from \"../Api\"; // integra√ß√£o com sua API\r\n\r\nexport default function BookForm({ onBookAdded, role }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // üîπ Somente admins e superusu√°rios podem acessar\r\n  if (role !== \"admin\" && role !== \"superuser\") {\r\n    return (\r\n      <p tabIndex=\"0\" role=\"alert\">\r\n        ‚ö†Ô∏è Acesso negado. Apenas administradores podem cadastrar livros.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const newBook = { title, author, category, description };\r\n      await saveBook(newBook);\r\n\r\n      setMessage(\"‚úÖ Livro salvo com sucesso!\");\r\n      setTitle(\"\");\r\n      setAuthor(\"\");\r\n      setCategory(\"\");\r\n      setDescription(\"\");\r\n\r\n      if (onBookAdded) onBookAdded(); // atualiza lista sem recarregar\r\n    } catch (error) {\r\n      console.error(\"Erro ao salvar livro:\", error);\r\n      setMessage(\"‚ùå Erro ao salvar o livro.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className=\"book-form\"\r\n      onSubmit={handleSubmit}\r\n      aria-label=\"Formul√°rio de cadastro de livro\"\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"0.75rem\",\r\n        backgroundColor: \"#fff\",\r\n        padding: \"1.5rem\",\r\n        borderRadius: \"10px\",\r\n        boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\r\n        maxWidth: \"400px\",\r\n        margin: \"1rem auto\",\r\n      }}\r\n    >\r\n      <fieldset disabled={loading} style={{ border: \"none\" }}>\r\n        <legend\r\n          tabIndex=\"0\"\r\n          style={{\r\n            fontSize: \"1.2rem\",\r\n            fontWeight: \"bold\",\r\n            color: \"#004999\",\r\n            textAlign: \"center\",\r\n            marginBottom: \"0.75rem\",\r\n          }}\r\n        >\r\n          üìö Cadastro de Livro (Admin)\r\n        </legend>\r\n\r\n        <label htmlFor=\"title\">T√≠tulo:</label>\r\n        <input\r\n          id=\"title\"\r\n          type=\"text\"\r\n          placeholder=\"Digite o t√≠tulo do livro\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label htmlFor=\"author\">Autor:</label>\r\n        <input\r\n          id=\"author\"\r\n          type=\"text\"\r\n          placeholder=\"Digite o nome do autor\"\r\n          value={author}\r\n          onChange={(e) => setAuthor(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label htmlFor=\"category\">Categoria:</label>\r\n        <input\r\n          id=\"category\"\r\n          type=\"text\"\r\n          placeholder=\"Digite a categoria\"\r\n          value={category}\r\n          onChange={(e) => setCategory(e.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"description\">Descri√ß√£o:</label>\r\n        <textarea\r\n          id=\"description\"\r\n          placeholder=\"Digite uma breve descri√ß√£o\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          rows=\"3\"\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          style={{\r\n            background: loading ? \"#999\" : \"#007bff\",\r\n            color: \"#fff\",\r\n            padding: \"0.6rem\",\r\n            border: \"none\",\r\n            borderRadius: \"6px\",\r\n            cursor: loading ? \"not-allowed\" : \"pointer\",\r\n            transition: \"background 0.3s\",\r\n          }}\r\n        >\r\n          {loading ? \"Salvando...\" : \"Salvar Livro\"}\r\n        </button>\r\n      </fieldset>\r\n\r\n      {message && (\r\n        <p\r\n          role=\"status\"\r\n          aria-live=\"polite\"\r\n          tabIndex=\"0\"\r\n          className={`form-message ${message.includes(\"sucesso\") ? \"success\" : \"error\"}`}\r\n          style={{ textAlign: \"center\", fontWeight: \"bold\" }}\r\n        >\r\n          {message}\r\n        </p>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}